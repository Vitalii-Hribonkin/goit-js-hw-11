{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-function.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nconst API_KEY = '47432797-7b7ae49ed8d9ca3634e43854b';\nconst BASE_URL = 'https://pixabay.com/api/';\n\n/**\n * Функція для виконання запиту до Pixabay API.\n * @param {string} query - пошуковий запит.\n * @returns {Promise<Array>} - список зображень.\n */\nexport const fetchImages = async (query) => {\n  const params = new URLSearchParams({\n    key: API_KEY,\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n\n  try {\n    const response = await axios.get(`${BASE_URL}?${params}`);\n    return response.data.hits;\n  } catch (error) {\n    throw new Error('Failed to fetch images');\n  }\n};\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nlet lightbox;\n\n/**\n * Створює розмітку для галереї.\n * @param {Array} images - список об'єктів із зображеннями.\n * @returns {string} - HTML-розмітка.\n */\nexport const createGalleryMarkup = (images) => {\n  return images\n    .map(\n      (img) => `\n    <li>\n      <a href=\"${img.largeImageURL}\">\n        <img src=\"${img.webformatURL}\" alt=\"${img.tags}\" />\n      </a>\n      <div>\n        <p>Likes: ${img.likes}</p>\n        <p>Views: ${img.views}</p>\n        <p>Comments: ${img.comments}</p>\n        <p>Downloads: ${img.downloads}</p>\n      </div>\n    </li>\n  `\n    )\n    .join('');\n};\n\n/**\n * Очищує галерею та додає нові зображення.\n * @param {HTMLElement} galleryElement - елемент галереї.\n * @param {Array} images - список зображень для рендерингу.\n */\nexport const renderGallery = (galleryElement, images) => {\n  const markup = createGalleryMarkup(images);\n  galleryElement.innerHTML = markup;\n\n  if (!lightbox) {\n    lightbox = new SimpleLightbox('.gallery a');\n  } else {\n    lightbox.refresh();\n  }\n};\n","import 'izitoast/dist/css/iziToast.min.css';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport { fetchImages } from './js/pixabay-api';\nimport { renderGallery } from './js/render-function';\n\nconst searchForm = document.getElementById('search-form');\nconst gallery = document.getElementById('gallery');\nconst loader = document.getElementById('loader');\n\nconst showLoader = () => loader.classList.remove('hidden');\nconst hideLoader = () => loader.classList.add('hidden');\n\nconst handleSearch = async (event) => {\n  event.preventDefault();\n  const query = searchForm.elements['search-input'].value.trim();\n\n  if (!query) {\n    iziToast.error({\n      title: 'Error',\n      message: 'Please enter a search query!',\n    });\n    return;\n  }\n\n  gallery.innerHTML = '';\n  showLoader();\n\n  try {\n    const images = await fetchImages(query);\n    if (images.length === 0) {\n      iziToast.warning({\n        title: 'No Results',\n        message: 'Sorry, there are no images matching your search query. Please try again!',\n      });\n    } else {\n      renderGallery(gallery, images);\n    }\n  } catch (error) {\n    iziToast.error({\n      title: 'Error',\n      message: 'Something went wrong. Please try again later!',\n    });\n  } finally {\n    hideLoader();\n  }\n};\n\nsearchForm.addEventListener('submit', handleSearch);\n"],"names":["API_KEY","BASE_URL","fetchImages","query","params","axios","lightbox","createGalleryMarkup","images","img","renderGallery","galleryElement","markup","SimpleLightbox","searchForm","gallery","loader","showLoader","hideLoader","handleSearch","event","iziToast"],"mappings":"owBAEA,MAAMA,EAAU,qCACVC,EAAW,2BAOJC,EAAc,MAAOC,GAAU,CAC1C,MAAMC,EAAS,IAAI,gBAAgB,CACjC,IAAKJ,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EAED,GAAI,CAEF,OADiB,MAAME,EAAM,IAAI,GAAGJ,CAAQ,IAAIG,CAAM,EAAE,GACxC,KAAK,IACtB,MAAe,CACd,MAAM,IAAI,MAAM,wBAAwB,CACzC,CACH,ECtBA,IAAIE,EAOG,MAAMC,EAAuBC,GAC3BA,EACJ,IACEC,GAAQ;AAAA;AAAA,iBAEEA,EAAI,aAAa;AAAA,oBACdA,EAAI,YAAY,UAAUA,EAAI,IAAI;AAAA;AAAA;AAAA,oBAGlCA,EAAI,KAAK;AAAA,oBACTA,EAAI,KAAK;AAAA,uBACNA,EAAI,QAAQ;AAAA,wBACXA,EAAI,SAAS;AAAA;AAAA;AAAA,GAIhC,EACA,KAAK,EAAE,EAQCC,EAAgB,CAACC,EAAgBH,IAAW,CACvD,MAAMI,EAASL,EAAoBC,CAAM,EACzCG,EAAe,UAAYC,EAEtBN,EAGHA,EAAS,QAAO,EAFhBA,EAAW,IAAIO,EAAe,YAAY,CAI9C,EClCMC,EAAa,SAAS,eAAe,aAAa,EAClDC,EAAU,SAAS,eAAe,SAAS,EAC3CC,EAAS,SAAS,eAAe,QAAQ,EAEzCC,EAAa,IAAMD,EAAO,UAAU,OAAO,QAAQ,EACnDE,EAAa,IAAMF,EAAO,UAAU,IAAI,QAAQ,EAEhDG,EAAe,MAAOC,GAAU,CACpCA,EAAM,eAAc,EACpB,MAAMjB,EAAQW,EAAW,SAAS,cAAc,EAAE,MAAM,OAExD,GAAI,CAACX,EAAO,CACVkB,EAAS,MAAM,CACb,MAAO,QACP,QAAS,8BACf,CAAK,EACD,MACD,CAEDN,EAAQ,UAAY,GACpBE,IAEA,GAAI,CACF,MAAMT,EAAS,MAAMN,EAAYC,CAAK,EAClCK,EAAO,SAAW,EACpBa,EAAS,QAAQ,CACf,MAAO,aACP,QAAS,0EACjB,CAAO,EAEDX,EAAcK,EAASP,CAAM,CAEhC,MAAe,CACda,EAAS,MAAM,CACb,MAAO,QACP,QAAS,+CACf,CAAK,CACL,QAAY,CACRH,GACD,CACH,EAEAJ,EAAW,iBAAiB,SAAUK,CAAY"}